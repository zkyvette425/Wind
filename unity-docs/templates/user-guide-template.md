# [åŠŸèƒ½åç§°] ç”¨æˆ·æŒ‡å—æ¨¡æ¿

> **æ¨¡æ¿ç‰ˆæœ¬**: v1.0.0  
> **é€‚ç”¨èŒƒå›´**: Wind Unityå®¢æˆ·ç«¯ç”¨æˆ·æŒ‡å—æ–‡æ¡£  
> **åˆ›å»ºæ—¶é—´**: 2025-08-30 (åŒ—äº¬æ—¶é—´)  
> **ä½¿ç”¨è¯´æ˜**: å¤åˆ¶æ­¤æ¨¡æ¿åˆ›å»ºç”¨æˆ·æŒ‡å—  

---

## ğŸ“‹ æŒ‡å—åŸºæœ¬ä¿¡æ¯

### æ–‡æ¡£ä¿¡æ¯
- **æŒ‡å—æ ‡é¢˜**: [å…·ä½“åŠŸèƒ½æˆ–æµç¨‹åç§°]ç”¨æˆ·æŒ‡å—
- **ç›®æ ‡ç”¨æˆ·**: [åˆå­¦è€…/ä¸­çº§å¼€å‘è€…/é«˜çº§å¼€å‘è€…/æ¶æ„å¸ˆ]
- **é¢„è®¡ç”¨æ—¶**: [é˜…è¯»æ—¶é—´] + [å®è·µæ—¶é—´]
- **éš¾åº¦ç­‰çº§**: â­â­â­â˜†â˜† ([ç®€å•/ä¸­ç­‰/å›°éš¾])

### å‰ç½®è¦æ±‚
- **Unityç‰ˆæœ¬**: 2022.3 LTSæˆ–æ›´é«˜ç‰ˆæœ¬
- **WindåŒ…ä¾èµ–**: 
  - com.wind.core (å¿…éœ€)
  - [å…¶ä»–ä¾èµ–åŒ…]
- **æŠ€æœ¯èƒŒæ™¯**: 
  - [éœ€è¦çš„C#çŸ¥è¯†æ°´å¹³]
  - [éœ€è¦çš„Unityä½¿ç”¨ç»éªŒ]
  - [å…¶ä»–æŠ€æœ¯è¦æ±‚]

---

## ğŸ¯ å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬æŒ‡å—åï¼Œä½ å°†èƒ½å¤Ÿï¼š
- [ ] [å­¦ä¹ ç›®æ ‡1 - å…·ä½“ã€å¯æµ‹é‡]
- [ ] [å­¦ä¹ ç›®æ ‡2 - å…·ä½“ã€å¯æµ‹é‡]
- [ ] [å­¦ä¹ ç›®æ ‡3 - å…·ä½“ã€å¯æµ‹é‡]
- [ ] [å­¦ä¹ ç›®æ ‡4 - å…·ä½“ã€å¯æµ‹é‡]

### å®é™…åº”ç”¨åœºæ™¯
æœ¬æŒ‡å—æ¶µç›–çš„æŠ€èƒ½å¯ä»¥ç”¨äºï¼š
- **[åº”ç”¨åœºæ™¯1]**: [å…·ä½“è¯´æ˜ä½•æ—¶ä½¿ç”¨]
- **[åº”ç”¨åœºæ™¯2]**: [å…·ä½“è¯´æ˜ä½•æ—¶ä½¿ç”¨]
- **[åº”ç”¨åœºæ™¯3]**: [å…·ä½“è¯´æ˜ä½•æ—¶ä½¿ç”¨]

---

## ğŸ“š æ¦‚å¿µä»‹ç»

### æ ¸å¿ƒæ¦‚å¿µ1: [æ¦‚å¿µåç§°]
**å®šä¹‰**: [æ¸…æ™°çš„æ¦‚å¿µå®šä¹‰]

**ä¸ºä»€ä¹ˆé‡è¦**: [è§£é‡Šæ¦‚å¿µçš„é‡è¦æ€§å’Œä»·å€¼]

**ä¸å…¶ä»–æ¦‚å¿µçš„å…³ç³»**: [è¯´æ˜æ¦‚å¿µä¹‹é—´çš„å…³ç³»]

**å®é™…ç±»æ¯”**: [ä½¿ç”¨ç”Ÿæ´»ä¸­çš„ä¾‹å­å¸®åŠ©ç†è§£]

### æ ¸å¿ƒæ¦‚å¿µ2: [æ¦‚å¿µåç§°]  
**å®šä¹‰**: [æ¸…æ™°çš„æ¦‚å¿µå®šä¹‰]

**å…³é”®ç‰¹å¾**:
- ç‰¹å¾1: [è¯¦ç»†è¯´æ˜]
- ç‰¹å¾2: [è¯¦ç»†è¯´æ˜]
- ç‰¹å¾3: [è¯¦ç»†è¯´æ˜]

**å¸¸è§è¯¯è§£**: 
âŒ **é”™è¯¯ç†è§£**: [å¸¸è§çš„é”™è¯¯ç†è§£]  
âœ… **æ­£ç¡®ç†è§£**: [æ­£ç¡®çš„ç†è§£æ–¹å¼]

---

## ğŸ”§ ç¯å¢ƒå‡†å¤‡

### Step 1: éªŒè¯Unityç¯å¢ƒ
ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒæ»¡è¶³è¦æ±‚ï¼š

```csharp
// æ£€æŸ¥Unityç‰ˆæœ¬çš„ä»£ç ç¤ºä¾‹
#if UNITY_2022_3_OR_NEWER
    Debug.Log("Unityç‰ˆæœ¬æ»¡è¶³è¦æ±‚");
#else
    Debug.LogError("éœ€è¦Unity 2022.3æˆ–æ›´é«˜ç‰ˆæœ¬");
#endif
```

**æ£€æŸ¥æ¸…å•**:
- [ ] Unityç‰ˆæœ¬ â‰¥ 2022.3 LTS
- [ ] é¡¹ç›®è®¾ç½®ä¸º.NET Standard 2.1
- [ ] å¯ç”¨äº†ç›¸å…³çš„Scripting Define Symbols

### Step 2: å®‰è£…å¿…éœ€åŒ…
æŒ‰ç…§ä»¥ä¸‹é¡ºåºå®‰è£…WindåŒ…ï¼š

1. **com.wind.core** (åŸºç¡€å¿…éœ€)
   ```
   Wind > Package Manager > æœç´¢ "com.wind.core" > å®‰è£…
   ```

2. **[ç›¸å…³åŒ…å]** (åŠŸèƒ½å¿…éœ€)
   ```
   Wind > Package Manager > æœç´¢ "[ç›¸å…³åŒ…å]" > å®‰è£…
   ```

**éªŒè¯å®‰è£…**:
```csharp
// éªŒè¯åŒ…å®‰è£…çš„ä»£ç 
using Wind.Core;
using Wind.[Category];

public class InstallationCheck : MonoBehaviour
{
    private void Start()
    {
        if (WindContainer.IsInitialized)
        {
            Debug.Log("Windæ¡†æ¶å®‰è£…æˆåŠŸ");
        }
        else
        {
            Debug.LogError("Windæ¡†æ¶å®‰è£…å¤±è´¥");
        }
    }
}
```

### Step 3: åˆ›å»ºé¡¹ç›®ç»“æ„
å»ºè®®çš„é¡¹ç›®æ–‡ä»¶ç»“æ„ï¼š

```
Assets/
â”œâ”€â”€ Scripts/
â”‚   â”œâ”€â”€ [Category]/           # åŠŸèƒ½ç›¸å…³è„šæœ¬
â”‚   â”œâ”€â”€ Configuration/        # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ Examples/            # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ Resources/
â”‚   â””â”€â”€ Wind/                # Windèµ„æºæ–‡ä»¶
â””â”€â”€ StreamingAssets/         # æµå¼èµ„æº
```

---

## ğŸš€ åŸºç¡€æ•™ç¨‹

### æ•™ç¨‹1: [åŸºç¡€åŠŸèƒ½åç§°]

#### ç›®æ ‡
å­¦ä¼š[å…·ä½“è¦å®ç°çš„åŠŸèƒ½]çš„åŸºæœ¬ä½¿ç”¨ã€‚

#### æ­¥éª¤è¯¦è§£

##### Step 1: åˆ›å»ºåŸºç¡€è„šæœ¬
åˆ›å»ºä¸€ä¸ªæ–°çš„C#è„šæœ¬ `[FunctionName]Example.cs`ï¼š

```csharp
using UnityEngine;
using Wind.Core;
using Wind.[Category];

public class [FunctionName]Example : MonoBehaviour
{
    [Header("é…ç½®")]
    [SerializeField] private [ConfigType] config;
    
    [Header("çŠ¶æ€æ˜¾ç¤º")]
    [SerializeField] private bool showDebugInfo = true;
    
    private I[ServiceName] _service;
    
    private async void Start()
    {
        // Step 1: åˆå§‹åŒ–Windæ¡†æ¶
        await WindFramework.InitializeAsync();
        
        // Step 2: è·å–æœåŠ¡å®ä¾‹
        _service = WindContainer.Resolve<I[ServiceName]>();
        
        // Step 3: é…ç½®æœåŠ¡
        if (config != null)
        {
            _service.Configure(config);
        }
        
        // Step 4: åˆå§‹åŒ–æœåŠ¡
        await InitializeService();
        
        // Step 5: å¼€å§‹ä½¿ç”¨åŠŸèƒ½
        await UseBasicFunction();
    }
    
    private async Task InitializeService()
    {
        try
        {
            var success = await _service.InitializeAsync();
            
            if (success)
            {
                Debug.Log("âœ… æœåŠ¡åˆå§‹åŒ–æˆåŠŸ");
                
                // è®¢é˜…é‡è¦äº‹ä»¶
                _service.OnEvent += HandleServiceEvent;
            }
            else
            {
                Debug.LogError("âŒ æœåŠ¡åˆå§‹åŒ–å¤±è´¥");
            }
        }
        catch (Exception ex)
        {
            Debug.LogError($"âŒ æœåŠ¡åˆå§‹åŒ–å¼‚å¸¸: {ex.Message}");
        }
    }
    
    private async Task UseBasicFunction()
    {
        try
        {
            // åˆ›å»ºè¯·æ±‚å‚æ•°
            var parameters = new [ParameterType]
            {
                // è®¾ç½®å¿…è¦å‚æ•°
                Property1 = "ç¤ºä¾‹å€¼",
                Property2 = 42
            };
            
            // è°ƒç”¨æœåŠ¡æ–¹æ³•
            var result = await _service.[MethodName]Async(parameters);
            
            if (result.Success)
            {
                Debug.Log($"âœ… æ“ä½œæˆåŠŸ: {result.Value}");
                
                // å¤„ç†æˆåŠŸç»“æœ
                ProcessResult(result.Value);
            }
            else
            {
                Debug.LogWarning($"âš ï¸ æ“ä½œå¤±è´¥: {result.ErrorMessage}");
            }
        }
        catch (Exception ex)
        {
            Debug.LogError($"âŒ æ“ä½œå¼‚å¸¸: {ex.Message}");
        }
    }
    
    private void ProcessResult([ResultType] result)
    {
        // å¤„ç†ç»“æœçš„é€»è¾‘
        if (showDebugInfo)
        {
            Debug.Log($"ğŸ“Š ç»“æœå¤„ç†: {result}");
        }
        
        // æ›´æ–°UIæˆ–æ¸¸æˆçŠ¶æ€
        UpdateGameState(result);
    }
    
    private void HandleServiceEvent([EventArgs] eventArgs)
    {
        Debug.Log($"ğŸ“¢ æœåŠ¡äº‹ä»¶: {eventArgs}");
        
        // æ ¹æ®äº‹ä»¶ç±»å‹æ‰§è¡Œç›¸åº”æ“ä½œ
        switch (eventArgs.EventType)
        {
            case [EventType].Important:
                HandleImportantEvent(eventArgs);
                break;
                
            case [EventType].Info:
                HandleInfoEvent(eventArgs);
                break;
                
            default:
                Debug.Log($"æœªå¤„ç†çš„äº‹ä»¶ç±»å‹: {eventArgs.EventType}");
                break;
        }
    }
    
    private void OnDestroy()
    {
        // æ¸…ç†èµ„æº
        if (_service != null)
        {
            _service.OnEvent -= HandleServiceEvent;
            _service.Dispose();
        }
    }
}
```

##### Step 2: é…ç½®è„šæœ¬ç»„ä»¶
1. å°†è„šæœ¬é™„åŠ åˆ°åœºæ™¯ä¸­çš„GameObject
2. åœ¨Inspectorä¸­é…ç½®å‚æ•°ï¼š
   - **Config**: æ‹–å…¥æˆ–åˆ›å»ºé…ç½®ScriptableObject
   - **Show Debug Info**: å‹¾é€‰ä»¥æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯

##### Step 3: åˆ›å»ºé…ç½®æ–‡ä»¶
å³é”®ç‚¹å‡»Projectçª—å£ï¼Œé€‰æ‹© `Create > Wind > [Category] > [ConfigName]`ï¼š

```csharp
[CreateAssetMenu(fileName = "New[ConfigName]", menuName = "Wind/[Category]/[ConfigName]")]
public class [ConfigType] : ScriptableObject
{
    [Header("åŸºç¡€è®¾ç½®")]
    public bool enableFeature = true;
    public float timeout = 30.0f;
    public int maxRetries = 3;
    
    [Header("é«˜çº§è®¾ç½®")]
    public [ModeEnum] mode = [ModeEnum].Auto;
    public string[] customSettings = new string[0];
    
    [Header("è°ƒè¯•è®¾ç½®")]
    public LogLevel logLevel = LogLevel.Info;
    public bool enableProfiling = false;
}
```

##### Step 4: è¿è¡Œå’Œæµ‹è¯•
1. æ’­æ”¾åœºæ™¯
2. è§‚å¯ŸConsoleè¾“å‡º
3. éªŒè¯åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ

**æœŸæœ›è¾“å‡º**:
```
âœ… æœåŠ¡åˆå§‹åŒ–æˆåŠŸ
âœ… æ“ä½œæˆåŠŸ: [æœŸæœ›ç»“æœ]
ğŸ“Š ç»“æœå¤„ç†: [ç»“æœè¯¦æƒ…]
```

#### å¸¸è§é—®é¢˜å¤„ç†

**é—®é¢˜1**: "æœåŠ¡åˆå§‹åŒ–å¤±è´¥"
- **å¯èƒ½åŸå› **: é…ç½®æ–‡ä»¶ç¼ºå¤±æˆ–é…ç½®é”™è¯¯
- **è§£å†³æ–¹æ³•**: æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®è®¾ç½®ï¼ŒéªŒè¯æ‰€æœ‰å¿…éœ€å‚æ•°

**é—®é¢˜2**: "æ‰¾ä¸åˆ°æœåŠ¡å®ä¾‹"
- **å¯èƒ½åŸå› **: Windæ¡†æ¶æœªæ­£ç¡®åˆå§‹åŒ–
- **è§£å†³æ–¹æ³•**: ç¡®ä¿è°ƒç”¨äº† `WindFramework.InitializeAsync()`

---

## ğŸ¨ é«˜çº§æ•™ç¨‹

### æ•™ç¨‹2: [é«˜çº§åŠŸèƒ½åç§°]

#### ç›®æ ‡
æŒæ¡[é«˜çº§åŠŸèƒ½]çš„ä½¿ç”¨ï¼ŒåŒ…æ‹¬[å…·ä½“çš„é«˜çº§ç‰¹æ€§]ã€‚

#### å‰ç½®æ¡ä»¶
- å®ŒæˆåŸºç¡€æ•™ç¨‹
- ç†è§£[ç›¸å…³æ¦‚å¿µ]
- ç†Ÿæ‚‰[ç›¸å…³æŠ€æœ¯]

#### é«˜çº§ç‰¹æ€§ä»‹ç»

##### ç‰¹æ€§1: [ç‰¹æ€§åç§°]
**ç”¨é€”**: [ç‰¹æ€§çš„ä¸»è¦ç”¨é€”]
**ä¼˜åŠ¿**: [ä½¿ç”¨æ­¤ç‰¹æ€§çš„ä¼˜åŠ¿]
**é€‚ç”¨åœºæ™¯**: [ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨]

##### ç‰¹æ€§2: [ç‰¹æ€§åç§°]
**æŠ€æœ¯åŸç†**: [ç‰¹æ€§çš„æŠ€æœ¯å®ç°åŸç†]
**æ€§èƒ½å½±å“**: [å¯¹æ€§èƒ½çš„å½±å“å’Œä¼˜åŒ–å»ºè®®]
**æ³¨æ„äº‹é¡¹**: [ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„çš„é—®é¢˜]

#### é«˜çº§å®ç°ç¤ºä¾‹

```csharp
public class Advanced[FunctionName]Example : MonoBehaviour
{
    [Header("é«˜çº§é…ç½®")]
    [SerializeField] private [AdvancedConfigType] advancedConfig;
    [SerializeField] private bool enableBatchProcessing = true;
    [SerializeField] private int batchSize = 10;
    
    private I[ServiceName] _service;
    private readonly Queue<[RequestType]> _requestQueue = new Queue<[RequestType]>();
    private CancellationTokenSource _cancellationTokenSource;
    
    private async void Start()
    {
        await InitializeAdvancedFeatures();
        await StartProcessingLoop();
    }
    
    private async Task InitializeAdvancedFeatures()
    {
        // é«˜çº§åˆå§‹åŒ–é€»è¾‘
        _service = WindContainer.Resolve<I[ServiceName]>();
        
        // é…ç½®é«˜çº§é€‰é¡¹
        var advancedOptions = new [AdvancedOptionsType]
        {
            EnableCaching = true,
            CacheSize = 1000,
            EnableCompression = true,
            CompressionLevel = CompressionLevel.Optimal
        };
        
        _service.ConfigureAdvanced(advancedOptions);
        
        // å¯ç”¨æ€§èƒ½ç›‘æ§
        if (advancedConfig.EnableProfiling)
        {
            _service.EnableProfiling();
        }
    }
    
    private async Task StartProcessingLoop()
    {
        _cancellationTokenSource = new CancellationTokenSource();
        
        // å¯åŠ¨åå°å¤„ç†å¾ªç¯
        _ = ProcessRequestsLoop(_cancellationTokenSource.Token);
        
        // æ·»åŠ ä¸€äº›ç¤ºä¾‹è¯·æ±‚
        for (int i = 0; i < 20; i++)
        {
            var request = new [RequestType]
            {
                Id = $"request_{i}",
                Priority = i % 3, // 0=é«˜, 1=ä¸­, 2=ä½
                Data = $"æ•°æ®_{i}"
            };
            
            EnqueueRequest(request);
        }
    }
    
    private async Task ProcessRequestsLoop(CancellationToken cancellationToken)
    {
        while (!cancellationToken.IsCancellationRequested)
        {
            try
            {
                if (_requestQueue.Count > 0)
                {
                    // æ‰¹é‡å¤„ç†
                    if (enableBatchProcessing)
                    {
                        await ProcessBatch(cancellationToken);
                    }
                    else
                    {
                        await ProcessSingle(cancellationToken);
                    }
                }
                else
                {
                    // ç­‰å¾…æ–°è¯·æ±‚
                    await Task.Delay(100, cancellationToken);
                }
            }
            catch (OperationCanceledException)
            {
                Debug.Log("å¤„ç†å¾ªç¯å·²å–æ¶ˆ");
                break;
            }
            catch (Exception ex)
            {
                Debug.LogError($"å¤„ç†å¾ªç¯å¼‚å¸¸: {ex.Message}");
                await Task.Delay(1000, cancellationToken); // é”™è¯¯åå»¶è¿Ÿ
            }
        }
    }
    
    private async Task ProcessBatch(CancellationToken cancellationToken)
    {
        var batch = new List<[RequestType]>();
        
        // æ”¶é›†æ‰¹æ¬¡
        for (int i = 0; i < batchSize && _requestQueue.Count > 0; i++)
        {
            batch.Add(_requestQueue.Dequeue());
        }
        
        if (batch.Count == 0) return;
        
        Debug.Log($"ğŸ”„ å¼€å§‹æ‰¹é‡å¤„ç† {batch.Count} ä¸ªè¯·æ±‚");
        
        try
        {
            // æ‰¹é‡å¤„ç†è¯·æ±‚
            var results = await _service.ProcessBatchAsync(batch, cancellationToken);
            
            // å¤„ç†ç»“æœ
            for (int i = 0; i < results.Length; i++)
            {
                var request = batch[i];
                var result = results[i];
                
                if (result.Success)
                {
                    Debug.Log($"âœ… è¯·æ±‚ {request.Id} å¤„ç†æˆåŠŸ");
                    OnRequestProcessed(request, result);
                }
                else
                {
                    Debug.LogError($"âŒ è¯·æ±‚ {request.Id} å¤„ç†å¤±è´¥: {result.ErrorMessage}");
                    OnRequestFailed(request, result);
                }
            }
        }
        catch (Exception ex)
        {
            Debug.LogError($"âŒ æ‰¹é‡å¤„ç†å¼‚å¸¸: {ex.Message}");
            
            // å°†å¤±è´¥çš„è¯·æ±‚é‡æ–°å…¥é˜Ÿ
            foreach (var request in batch)
            {
                _requestQueue.Enqueue(request);
            }
        }
    }
    
    // æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡
    private void UpdatePerformanceStats()
    {
        if (_service is IPerformanceMonitored monitored)
        {
            var stats = monitored.GetPerformanceStats();
            
            Debug.Log($"ğŸ“Š æ€§èƒ½ç»Ÿè®¡:");
            Debug.Log($"  - å¤„ç†æ€»æ•°: {stats.TotalProcessed}");
            Debug.Log($"  - å¹³å‡å»¶è¿Ÿ: {stats.AverageLatency:F2}ms");
            Debug.Log($"  - æˆåŠŸç‡: {stats.SuccessRate:P}");
            Debug.Log($"  - å†…å­˜ä½¿ç”¨: {stats.MemoryUsage / 1024 / 1024:F2}MB");
        }
    }
    
    private void OnDestroy()
    {
        // åœæ­¢å¤„ç†å¾ªç¯
        _cancellationTokenSource?.Cancel();
        
        // è¾“å‡ºæœ€ç»ˆç»Ÿè®¡
        UpdatePerformanceStats();
        
        // æ¸…ç†èµ„æº
        _service?.Dispose();
        _cancellationTokenSource?.Dispose();
    }
}
```

---

## ğŸ¯ å®æˆ˜é¡¹ç›®

### é¡¹ç›®: [å®é™…é¡¹ç›®åç§°]
æ„å»ºä¸€ä¸ªçœŸå®çš„[é¡¹ç›®ç±»å‹]ï¼Œæ•´åˆæ‰€å­¦çš„æ‰€æœ‰åŠŸèƒ½ã€‚

#### é¡¹ç›®è§„æ ¼
- **åŠŸèƒ½è¦æ±‚**: [è¯¦ç»†çš„åŠŸèƒ½åˆ—è¡¨]
- **æ€§èƒ½ç›®æ ‡**: [å…·ä½“çš„æ€§èƒ½æŒ‡æ ‡]
- **æŠ€æœ¯çº¦æŸ**: [æŠ€æœ¯é™åˆ¶å’Œè¦æ±‚]

#### æ¶æ„è®¾è®¡
```
é¡¹ç›®æ¶æ„å›¾:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Layer      â”‚    â”‚  Service Layer  â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ - [UIç»„ä»¶1]     â”‚â—„â”€â”€â–ºâ”‚ - [æœåŠ¡1]       â”‚
â”‚ - [UIç»„ä»¶2]     â”‚    â”‚ - [æœåŠ¡2]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Data Layer    â”‚    â”‚  Core Layer     â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ - [æ•°æ®æ¨¡å‹]    â”‚    â”‚ - Wind.Core     â”‚
â”‚ - [æ•°æ®æº]      â”‚    â”‚ - [æ ¸å¿ƒæœåŠ¡]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å®ç°æ­¥éª¤

##### Phase 1: åŸºç¡€æ¡†æ¶æ­å»º (30åˆ†é’Ÿ)
1. åˆ›å»ºæ–°çš„Unityé¡¹ç›®
2. å®‰è£…å¿…éœ€çš„WindåŒ…
3. å»ºç«‹é¡¹ç›®æ–‡ä»¶ç»“æ„
4. åˆ›å»ºåŸºç¡€è„šæœ¬æ¡†æ¶

##### Phase 2: æ ¸å¿ƒåŠŸèƒ½å®ç° (60åˆ†é’Ÿ)
1. å®ç°[æ ¸å¿ƒåŠŸèƒ½1]
2. å®ç°[æ ¸å¿ƒåŠŸèƒ½2]
3. æ·»åŠ é”™è¯¯å¤„ç†å’Œæ—¥å¿—
4. è¿›è¡ŒåŸºç¡€åŠŸèƒ½æµ‹è¯•

##### Phase 3: é«˜çº§ç‰¹æ€§é›†æˆ (45åˆ†é’Ÿ)
1. é›†æˆ[é«˜çº§ç‰¹æ€§1]
2. æ·»åŠ æ€§èƒ½ç›‘æ§
3. å®ç°é…ç½®çƒ­é‡è½½
4. ä¼˜åŒ–æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨

##### Phase 4: å®Œå–„å’Œæµ‹è¯• (30åˆ†é’Ÿ)
1. å®Œå–„ç”¨æˆ·ç•Œé¢
2. æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹
3. æ€§èƒ½è°ƒä¼˜
4. æ–‡æ¡£ç¼–å†™

#### å®Œæ•´ä»£ç ç¤ºä¾‹
[æä¾›å®Œæ•´çš„é¡¹ç›®ä»£ç ï¼Œç¡®ä¿å¯ä»¥ç›´æ¥è¿è¡Œ]

---

## ğŸ† æœ€ä½³å®è·µ

### ä»£ç ç»„ç»‡æœ€ä½³å®è·µ

#### 1. æœåŠ¡åˆ†å±‚
```csharp
// âŒ é¿å…ï¼šæ‰€æœ‰é€»è¾‘éƒ½åœ¨ä¸€ä¸ªç±»ä¸­
public class MonolithicManager : MonoBehaviour
{
    // æ··åˆäº†UIã€ä¸šåŠ¡é€»è¾‘ã€æ•°æ®è®¿é—®...
}

// âœ… æ¨èï¼šåˆ†å±‚æ¶æ„
public class GameController : MonoBehaviour  // UIå±‚
{
    private readonly IGameService _gameService; // ä¸šåŠ¡å±‚
    
    // åªå¤„ç†UIç›¸å…³é€»è¾‘
}

public class GameService : IGameService      // ä¸šåŠ¡å±‚
{
    private readonly IDataRepository _repository; // æ•°æ®å±‚
    
    // åªå¤„ç†ä¸šåŠ¡é€»è¾‘
}
```

#### 2. å¼‚å¸¸å¤„ç†ç­–ç•¥
```csharp
// âœ… æ¨èçš„å¼‚å¸¸å¤„ç†æ¨¡å¼
public async Task<Result<T>> SafeOperationAsync<T>(Func<Task<T>> operation)
{
    try
    {
        var result = await operation();
        return Result<T>.Success(result);
    }
    catch (OperationCanceledException)
    {
        // å–æ¶ˆæ“ä½œï¼Œæ­£å¸¸æƒ…å†µ
        return Result<T>.Cancelled();
    }
    catch (ArgumentException ex)
    {
        // å‚æ•°é”™è¯¯ï¼Œè®°å½•å¹¶è¿”å›é”™è¯¯
        WindLogger.Warning($"å‚æ•°é”™è¯¯: {ex.Message}");
        return Result<T>.Failed($"å‚æ•°é”™è¯¯: {ex.Message}");
    }
    catch (Exception ex)
    {
        // æœªçŸ¥é”™è¯¯ï¼Œè®°å½•è¯¦ç»†ä¿¡æ¯
        WindLogger.Error($"æ“ä½œå¤±è´¥: {ex}");
        return Result<T>.Failed("æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•");
    }
}
```

#### 3. é…ç½®ç®¡ç†
```csharp
// âœ… æ¨èçš„é…ç½®ç»“æ„
[System.Serializable]
public class GameConfig
{
    [Header("åŸºç¡€è®¾ç½®")]
    public string gameName = "My Game";
    public float gameVersion = 1.0f;
    
    [Header("æ€§èƒ½è®¾ç½®")]
    public int targetFrameRate = 60;
    public bool enableVSync = true;
    
    [Header("è°ƒè¯•è®¾ç½®")]
    public bool enableDebugMode = false;
    public LogLevel logLevel = LogLevel.Info;
    
    // éªŒè¯é…ç½®çš„æ–¹æ³•
    public bool Validate()
    {
        return targetFrameRate > 0 && gameVersion > 0;
    }
}
```

### æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ

#### 1. å†…å­˜ç®¡ç†
```csharp
// âœ… ä½¿ç”¨å¯¹è±¡æ± å‡å°‘GCå‹åŠ›
public class PooledObjectExample
{
    private static readonly ObjectPool<StringBuilder> _stringBuilderPool 
        = new ObjectPool<StringBuilder>(
            () => new StringBuilder(),
            sb => sb.Clear(),
            sb => sb.Capacity < 1024
        );
    
    public static string FormatMessage(string template, params object[] args)
    {
        var sb = _stringBuilderPool.Rent();
        try
        {
            // ä½¿ç”¨StringBuilderè¿›è¡Œå­—ç¬¦ä¸²æ“ä½œ
            sb.AppendFormat(template, args);
            return sb.ToString();
        }
        finally
        {
            _stringBuilderPool.Return(sb);
        }
    }
}
```

#### 2. å¼‚æ­¥æ“ä½œä¼˜åŒ–
```csharp
// âœ… æ­£ç¡®çš„å¼‚æ­¥æ“ä½œ
public class OptimizedAsyncExample
{
    private readonly SemaphoreSlim _concurrencyLimiter = new SemaphoreSlim(5, 5);
    
    public async Task<T[]> ProcessManyAsync<T>(IEnumerable<T> items, 
        Func<T, Task<T>> processor)
    {
        var tasks = items.Select(async item =>
        {
            await _concurrencyLimiter.WaitAsync();
            try
            {
                return await processor(item);
            }
            finally
            {
                _concurrencyLimiter.Release();
            }
        });
        
        return await Task.WhenAll(tasks);
    }
}
```

---

## ğŸ› å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜åˆ†ç±»ç´¢å¼•
- [å®‰è£…å’Œç¯å¢ƒé—®é¢˜](#å®‰è£…å’Œç¯å¢ƒé—®é¢˜)
- [é…ç½®ç›¸å…³é—®é¢˜](#é…ç½®ç›¸å…³é—®é¢˜)
- [è¿è¡Œæ—¶é”™è¯¯](#è¿è¡Œæ—¶é”™è¯¯)
- [æ€§èƒ½é—®é¢˜](#æ€§èƒ½é—®é¢˜)

### å®‰è£…å’Œç¯å¢ƒé—®é¢˜

#### Q: Unityç‰ˆæœ¬ä¸å…¼å®¹
**ç—‡çŠ¶**: å®‰è£…åŒ…æ—¶æç¤ºUnityç‰ˆæœ¬è¿‡ä½
**åŸå› **: Unityç‰ˆæœ¬ä½äºæœ€ä½è¦æ±‚
**è§£å†³**:
1. å‡çº§Unityåˆ°2022.3 LTSæˆ–æ›´é«˜ç‰ˆæœ¬
2. æˆ–è€…ä¸‹è½½å…¼å®¹çš„åŒ…ç‰ˆæœ¬

#### Q: åŒ…ä¾èµ–è§£æå¤±è´¥
**ç—‡çŠ¶**: Package Manageræ˜¾ç¤ºä¾èµ–é”™è¯¯
**åŸå› **: ç¼ºå°‘å¿…éœ€çš„ä¾èµ–åŒ…
**è§£å†³**:
```csharp
// æ£€æŸ¥ä¾èµ–çš„ä»£ç 
#if WIND_CORE_AVAILABLE
    Debug.Log("Wind Core å¯ç”¨");
#else
    Debug.LogError("è¯·å…ˆå®‰è£… com.wind.core");
#endif
```

### é…ç½®ç›¸å…³é—®é¢˜

#### Q: é…ç½®æ–‡ä»¶ä¸ç”Ÿæ•ˆ
**ç—‡çŠ¶**: ä¿®æ”¹é…ç½®åæ²¡æœ‰å˜åŒ–
**åŸå› **: é…ç½®æ–‡ä»¶è·¯å¾„é”™è¯¯æˆ–æ ¼å¼é—®é¢˜
**è°ƒè¯•æ­¥éª¤**:
```csharp
public static void DebugConfiguration()
{
    var config = Resources.Load<[ConfigType]>("é…ç½®æ–‡ä»¶å");
    if (config == null)
    {
        Debug.LogError("é…ç½®æ–‡ä»¶æœªæ‰¾åˆ°");
        return;
    }
    
    Debug.Log($"é…ç½®åŠ è½½æˆåŠŸ: {JsonUtility.ToJson(config, true)}");
    
    if (!config.Validate())
    {
        Debug.LogError("é…ç½®éªŒè¯å¤±è´¥");
    }
}
```

### è¿è¡Œæ—¶é”™è¯¯

#### Q: NullReferenceException
**ç—‡çŠ¶**: è¿è¡Œæ—¶å‡ºç°ç©ºå¼•ç”¨é”™è¯¯
**å¸¸è§åŸå› **:
1. æœåŠ¡æœªæ­£ç¡®æ³¨å†Œåˆ°DIå®¹å™¨
2. ç»„ä»¶å¼•ç”¨æœªè®¾ç½®
3. å¼‚æ­¥åˆå§‹åŒ–æœªå®Œæˆ

**è°ƒè¯•æ¨¡æ¿**:
```csharp
public class NullReferenceDebugger : MonoBehaviour
{
    private void Start()
    {
        // æ£€æŸ¥å…³é”®å¼•ç”¨
        DebugReferences();
        
        // æ£€æŸ¥æœåŠ¡æ³¨å†Œ
        DebugServices();
    }
    
    private void DebugReferences()
    {
        Debug.Log("=== å¼•ç”¨æ£€æŸ¥ ===");
        
        // æ£€æŸ¥åºåˆ—åŒ–å­—æ®µ
        var fields = GetType().GetFields(BindingFlags.Instance | BindingFlags.NonPublic)
            .Where(f => f.GetCustomAttribute<SerializeField>() != null);
            
        foreach (var field in fields)
        {
            var value = field.GetValue(this);
            Debug.Log($"{field.Name}: {(value != null ? "âœ…" : "âŒ")}");
        }
    }
    
    private void DebugServices()
    {
        Debug.Log("=== æœåŠ¡æ£€æŸ¥ ===");
        
        try
        {
            var service = WindContainer.Resolve<I[ServiceName]>();
            Debug.Log($"æœåŠ¡è·å–: {(service != null ? "âœ…" : "âŒ")}");
        }
        catch (Exception ex)
        {
            Debug.LogError($"æœåŠ¡è·å–å¤±è´¥: {ex.Message}");
        }
    }
}
```

---

## ğŸ“Š è¿›é˜¶ä¸»é¢˜

### ä¸»é¢˜1: è‡ªå®šä¹‰æ‰©å±•å¼€å‘
å­¦ä¹ å¦‚ä½•ä¸ºWindæ¡†æ¶å¼€å‘è‡ªå®šä¹‰æ‰©å±•ã€‚

#### æ‰©å±•ç‚¹
Windæ¡†æ¶æä¾›å¤šä¸ªæ‰©å±•ç‚¹ï¼š
- **æœåŠ¡æ‰©å±•**: åˆ›å»ºè‡ªå®šä¹‰æœåŠ¡
- **é…ç½®æ‰©å±•**: æ·»åŠ è‡ªå®šä¹‰é…ç½®é€‰é¡¹
- **äº‹ä»¶æ‰©å±•**: å®ç°è‡ªå®šä¹‰äº‹ä»¶å¤„ç†
- **UIæ‰©å±•**: å¼€å‘è‡ªå®šä¹‰UIç»„ä»¶

#### æ‰©å±•å¼€å‘æ¨¡æ¿
```csharp
// è‡ªå®šä¹‰æœåŠ¡æ¥å£
public interface ICustomService : IDisposable
{
    Task<bool> InitializeAsync();
    Task<CustomResult> ProcessAsync(CustomRequest request);
    event Action<CustomEventArgs> OnCustomEvent;
}

// è‡ªå®šä¹‰æœåŠ¡å®ç°
public class CustomService : ICustomService
{
    private readonly ILogger _logger;
    private bool _isInitialized;
    
    public event Action<CustomEventArgs> OnCustomEvent;
    
    public CustomService(ILogger logger)
    {
        _logger = logger ?? throw new ArgumentNullException(nameof(logger));
    }
    
    public async Task<bool> InitializeAsync()
    {
        try
        {
            // è‡ªå®šä¹‰åˆå§‹åŒ–é€»è¾‘
            await InitializeCustomLogic();
            
            _isInitialized = true;
            _logger.Info("è‡ªå®šä¹‰æœåŠ¡åˆå§‹åŒ–å®Œæˆ");
            
            return true;
        }
        catch (Exception ex)
        {
            _logger.Error($"è‡ªå®šä¹‰æœåŠ¡åˆå§‹åŒ–å¤±è´¥: {ex.Message}");
            return false;
        }
    }
    
    public async Task<CustomResult> ProcessAsync(CustomRequest request)
    {
        if (!_isInitialized)
        {
            throw new InvalidOperationException("æœåŠ¡æœªåˆå§‹åŒ–");
        }
        
        try
        {
            // è‡ªå®šä¹‰å¤„ç†é€»è¾‘
            var result = await ProcessCustomRequest(request);
            
            // è§¦å‘äº‹ä»¶
            OnCustomEvent?.Invoke(new CustomEventArgs { Result = result });
            
            return result;
        }
        catch (Exception ex)
        {
            _logger.Error($"è‡ªå®šä¹‰å¤„ç†å¤±è´¥: {ex.Message}");
            throw;
        }
    }
    
    public void Dispose()
    {
        if (_isInitialized)
        {
            // æ¸…ç†è‡ªå®šä¹‰èµ„æº
            CleanupCustomResources();
            _isInitialized = false;
        }
        
        _logger?.Info("è‡ªå®šä¹‰æœåŠ¡å·²é‡Šæ”¾");
    }
}
```

### ä¸»é¢˜2: ä¸å…¶ä»–æ¡†æ¶é›†æˆ
å­¦ä¹ å¦‚ä½•å°†Windä¸å…¶ä»–Unityæ¡†æ¶é›†æˆã€‚

#### å¸¸è§é›†æˆåœºæ™¯
- **Addressablesé›†æˆ**: ä¸Unity Addressablesèµ„æºç³»ç»Ÿé›†æˆ
- **Timelineé›†æˆ**: ä¸Unity Timelineç³»ç»Ÿé›†æˆ
- **UI Toolkité›†æˆ**: ä¸Unity UI Toolkité›†æˆ
- **è¾“å…¥ç³»ç»Ÿé›†æˆ**: ä¸Unity Input Systemé›†æˆ

---

## ğŸ“ å­¦ä¹ è·¯å¾„å»ºè®®

### åˆå­¦è€…è·¯å¾„ (4-6å°æ—¶)
1. **ç¯å¢ƒå‡†å¤‡** (30åˆ†é’Ÿ)
   - å®‰è£…Unityå’ŒWindåŒ…
   - åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®
   
2. **åŸºç¡€æ•™ç¨‹** (2å°æ—¶)
   - å®ŒæˆåŸºç¡€åŠŸèƒ½æ•™ç¨‹
   - ç†è§£æ ¸å¿ƒæ¦‚å¿µ
   
3. **å®è·µé¡¹ç›®** (2-3å°æ—¶)
   - è·Ÿéšå®æˆ˜é¡¹ç›®
   - ç‹¬ç«‹å®Œæˆå°é¡¹ç›®

### è¿›é˜¶è·¯å¾„ (6-8å°æ—¶)  
1. **é«˜çº§æ•™ç¨‹** (2-3å°æ—¶)
   - å­¦ä¹ é«˜çº§ç‰¹æ€§
   - æŒæ¡ä¼˜åŒ–æŠ€å·§
   
2. **æ‰©å±•å¼€å‘** (2å°æ—¶)
   - å¼€å‘è‡ªå®šä¹‰æ‰©å±•
   - å­¦ä¹ æ¡†æ¶é›†æˆ
   
3. **æ€§èƒ½ä¼˜åŒ–** (2-3å°æ—¶)
   - æ·±å…¥æ€§èƒ½è°ƒä¼˜
   - è§£å†³å¤æ‚é—®é¢˜

### ä¸“å®¶è·¯å¾„ (æŒç»­å­¦ä¹ )
1. **æºç åˆ†æ**: æ·±å…¥ç†è§£æ¡†æ¶å®ç°
2. **ç¤¾åŒºè´¡çŒ®**: å‚ä¸å¼€æºé¡¹ç›®è´¡çŒ®
3. **æŠ€æœ¯åˆ†äº«**: åˆ†äº«ä½¿ç”¨ç»éªŒå’ŒæŠ€å·§

---

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Wind Unityå®¢æˆ·ç«¯çº²é¢†](../../plans/project-management/governance/unity-çº²é¢†.md)
- [åŒ…æ¶æ„è®¾è®¡](../architecture/packages-architecture.md)  
- [APIæ–‡æ¡£](../packages/README.md)

### å­¦ä¹ èµ„æº
- [Unityå®˜æ–¹æ–‡æ¡£](https://docs.unity3d.com/)
- [C#å¼‚æ­¥ç¼–ç¨‹æŒ‡å—](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/)
- [ä¾èµ–æ³¨å…¥æ¨¡å¼](https://martinfowler.com/articles/injection.html)

### ç¤¾åŒºèµ„æº
- [Windå¼€å‘è€…ç¤¾åŒº](https://community.wind.com)
- [GitHubè®¨è®ºåŒº](https://github.com/wind-org/discussions)
- [æŠ€æœ¯åšå®¢](https://blog.wind.com)

---

## ğŸ’ åé¦ˆå’Œæ”¹è¿›

### å¦‚ä½•æä¾›åé¦ˆ
æˆ‘ä»¬é‡è§†ä½ çš„åé¦ˆï¼è¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼å‘Šè¯‰æˆ‘ä»¬ï¼š

1. **å†…å®¹åé¦ˆ**: æ–‡æ¡£æ˜¯å¦æ¸…æ™°ã€å‡†ç¡®ï¼Ÿ
2. **ç»“æ„åé¦ˆ**: ç»„ç»‡ç»“æ„æ˜¯å¦åˆç†ï¼Ÿ
3. **ç¤ºä¾‹åé¦ˆ**: ä»£ç ç¤ºä¾‹æ˜¯å¦æœ‰ç”¨ï¼Ÿ
4. **é”™è¯¯æŠ¥å‘Š**: å‘ç°é”™è¯¯è¯·åŠæ—¶æŠ¥å‘Š

### åé¦ˆæ¸ é“
- **GitHub Issues**: [æŠ¥å‘Šé—®é¢˜](https://github.com/wind-org/unity-docs/issues)
- **ç¤¾åŒºè®ºå›**: [è®¨è®ºæ”¹è¿›](https://community.wind.com)
- **é‚®ä»¶è”ç³»**: docs@wind.com

---

**ğŸ“ æ–‡æ¡£çŠ¶æ€**: æœ¬æŒ‡å—æŒç»­æ›´æ–°ï¼Œç¡®ä¿ä¸æœ€æ–°ç‰ˆæœ¬åŒæ­¥ã€‚æœ€åæ›´æ–°æ—¶é—´ï¼š[æ›´æ–°æ—¥æœŸ]

**ğŸ”— ç›¸å…³æŒ‡å—**: 
- [åŒ…å¼€å‘æŒ‡å—](package-development-guide.md) - å­¦ä¹ å¦‚ä½•å¼€å‘WindåŒ…
- [æœ€ä½³å®è·µæŒ‡å—](best-practices-guide.md) - æ·±å…¥äº†è§£å¼€å‘æœ€ä½³å®è·µ
- [æ•…éšœæ’é™¤æŒ‡å—](troubleshooting-guide.md) - è§£å†³å¸¸è§é—®é¢˜