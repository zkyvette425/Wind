# 游戏服务器项目功能划分总文档

## 项目概述
本项目是一个游戏服务器系统，采用分层架构设计，包含多个子项目，分别负责不同的功能模块。系统支持玩家管理、房间管理、实时通信等核心游戏功能。

## 系统架构
采用经典的分层架构，各层之间职责明确，通过接口进行通信，提高了系统的可维护性和可扩展性。

### 分层结构
1. **表示层**：Wind.Server 项目，处理HTTP请求和实时通信
2. **应用层**：Wind.Application 项目，协调业务逻辑
3. **领域层**：Wind.Domain 项目，定义核心业务概念和规则
4. **基础设施层**：Wind.Infrastructure 项目，提供数据访问和技术支持
5. **核心层**：Wind.Core 项目，包含共享的核心接口和实现
6. **共享层**：Wind.Shared 项目，提供跨项目共享的代码
7. **测试层**：Wind.Tests 和 Wind.Domain.Tests 项目，确保代码质量

## 各项目功能概述

### Wind.Server
- 主应用入口点，启动和配置ASP.NET Core服务器
- 提供实时通信功能（SignalR）
- 处理HTTP请求
- 加载和应用配置

### Wind.Application
- 实现应用层服务
- 配置依赖注入
- 协调不同组件之间的交互

### Wind.Core
- 定义核心业务接口
- 实现核心业务逻辑
- 提供数据模型
- 处理网络通信协议

### Wind.Domain
- 定义领域模型（实体）
- 定义仓储接口
- 定义领域服务接口
- 封装核心业务规则

### Wind.Infrastructure
- 实现数据访问
- 实现仓储接口
- 提供基础设施服务
- 配置依赖注入

### Wind.Shared
- 定义共享常量
- 定义通信协议
- 提供共享工具类

### Wind.Tests
- 实现集成测试
- 实现单元测试
- 验证核心业务逻辑

### Wind.Domain.Tests
- 包含领域层的测试代码

## 项目依赖关系
- Wind.Server 依赖 Wind.Core
- Wind.Application 依赖 Wind.Core 和 Wind.Domain
- Wind.Infrastructure 依赖 Wind.Domain
- Wind.Tests 依赖 Wind.Core
- 多个项目依赖 Wind.Shared

## 关键业务流程
1. **玩家登录流程**：
   - Wind.Server 接收登录请求
   - Wind.Application 处理登录逻辑
   - Wind.Core 验证玩家信息
   - Wind.Infrastructure 访问数据库

2. **房间创建流程**：
   - Wind.Server 接收房间创建请求
   - Wind.Application 协调房间创建
   - Wind.Core 实现房间逻辑
   - Wind.Infrastructure 保存房间信息

## 技术栈
- 开发框架：ASP.NET Core
- 实时通信：SignalR
- 数据访问：Entity Framework Core
- 测试框架：xUnit, Moq
- 数据库：SQLite（开发环境）
- 编程语言：C#

## 设计理念
- 采用领域驱动设计(DDD)思想，分离关注点
- 接口与实现分离，便于测试和替换
- 依赖注入实现组件解耦
- 分层架构提高系统可维护性
- 共享项目减少代码重复

## 后续发展方向
1. 完善测试 coverage
2. 优化性能和可扩展性
3. 添加更多游戏功能模块
4. 支持分布式部署